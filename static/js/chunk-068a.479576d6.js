(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-068a"],{"+8WO":function(e,t,a){"use strict";a.r(t);var i=a("P2sY"),n=a.n(i),s=a("qgcl"),l={name:"InlineEditTable",filters:{statusFilter:function(e){return{0:"无效",1:"有效"}[e]}},data:function(){return{tableKey:0,list:null,total:null,listLoading:!0,listQuery:{page:1,limit:20},textMap:{update:"编辑分类",create:"添加分类"},temp:{},uptemp:{},dialogFormVisible:!1,dialogStatus:"",rules:{name:[{required:!0,message:"该字段不能为空",trigger:"blur"}],xh:[{required:!0,message:"该字段不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(s.c)(this.listQuery).then(function(t){e.list=t.data.result,e.total=t.data.result.length,e.listLoading=!1})},cancelEdit:function(e){e.title=e.originalTitle,e.edit=!1,this.$message({message:"The title has been restored to the original value",type:"warning"})},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},handleCreate:function(){var e=this;this.temp={},this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.fenleiForm.clearValidate()})},handleUpdate:function(e){this.temp=n()({},e),this.dialogStatus="update",this.dialogFormVisible=!0},handleDelete:function(e){var t=this;this.$confirm("此操作将删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={id:e};Object(s.b)(a).then(function(e){"0000"===e.data.status?(t.getList(),t.$message({type:"success",message:"删除成功"})):t.$message({type:"error",message:e.data.message})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},createData:function(){var e=this;this.$refs.fenleiForm.validate(function(t){t&&Object(s.a)(e.temp).then(function(t){"0000"===t.data.status?(e.getList(),e.dialogFormVisible=!1,e.$message({type:"success",message:"分类添加成功"})):e.$message({type:"info",message:t.data.message})})})},updateData:function(){var e=this;this.$refs.fenleiForm.validate(function(t){t&&(e.uptemp.id=e.temp.id,e.uptemp.name=e.temp.name,e.uptemp.voided=e.temp.voided,e.uptemp.xh=e.temp.xh,Object(s.d)(e.uptemp).then(function(t){e.getList(),e.dialogFormVisible=!1,e.$message({type:"success",message:"更新成功"})}))})},confirmEdit:function(e){e.edit=!1,e.originalTitle=e.title,this.$message({message:"The title has been edited",type:"success"})}}},o=(a("peaK"),a("KHd+")),r=Object(o.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v("增加分类")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"编号",width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"分类名称","min-width":"220",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"分类等级",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.level))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"排序",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.xh))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后修改时间",width:"180px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.updtime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("statusFilter")(t.row.voided)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center",width:"220","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v(e._s(e.$t("table.edit")))]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-delete"},on:{click:function(a){e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"fenleiForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[a("el-input",{attrs:{maxlength:"16"},model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排列序号",prop:"xh"}},[a("el-input",{attrs:{maxlength:"3"},model:{value:e.temp.xh,callback:function(t){e.$set(e.temp,"xh",t)},expression:"temp.xh"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))]),e._v(" "),"create"==e.dialogStatus?a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outline"},on:{click:e.createData}},[e._v(e._s(e.$t("table.confirm")))]):a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outline"},on:{click:e.updateData}},[e._v(e._s(e.$t("table.confirm")))])],1)],1)],1)},[],!1,null,"19ae1377",null);r.options.__file="fenlei.vue";t.default=r.exports},aRqk:function(e,t,a){},peaK:function(e,t,a){"use strict";var i=a("aRqk");a.n(i).a},qgcl:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"d",function(){return s}),a.d(t,"b",function(){return l}),a.d(t,"a",function(){return o});var i=a("t3Un");function n(e){return Object(i.a)({url:"/bGoodsType/getAllGoodsType",method:"post",params:e})}function s(e){return Object(i.a)({url:"/bGoodsType/updGoodsType",method:"post",params:e})}function l(e){return Object(i.a)({url:"/bGoodsType/deleteGoodsType",method:"post",params:e})}function o(e){return Object(i.a)({url:"/bGoodsType/addGoodsType",method:"post",params:e})}}}]);