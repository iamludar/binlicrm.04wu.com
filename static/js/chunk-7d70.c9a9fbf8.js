(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7d70"],{"26/5":function(t,e,a){"use strict";var s=a("YAdA");a.n(s).a},"B/d3":function(t,e,a){"use strict";a.d(e,"d",function(){return n}),a.d(e,"b",function(){return r}),a.d(e,"a",function(){return i}),a.d(e,"c",function(){return l}),a.d(e,"e",function(){return o});var s=a("t3Un");function n(t){return Object(s.a)({url:"/materials/list",method:"get",params:t})}function r(t){return Object(s.a)({url:"/materials/delete",method:"get",params:t})}function i(t){return Object(s.a)({url:"/materials/detail",method:"get",params:t})}function l(t){return Object(s.a)({url:"/materials/edit",method:"post",params:t})}function o(t){return Object(s.a)({url:"/materials/send",method:"get",params:t})}},YAdA:function(t,e,a){},ZySA:function(t,e,a){"use strict";var s=a("P2sY"),n=a.n(s),r=(a("jUE0"),{bind:function(t,e){t.addEventListener("click",function(a){var s=n()({},e.value),r=n()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},s),i=r.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var l=i.getBoundingClientRect(),o=i.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":((o=document.createElement("span")).className="waves-ripple",o.style.height=o.style.width=Math.max(l.width,l.height)+"px",i.appendChild(o)),r.type){case"center":o.style.top=l.height/2-o.offsetHeight/2+"px",o.style.left=l.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(a.pageY-l.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(a.pageX-l.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=r.color,o.className="waves-ripple z-active",!1}},!1)}}),i=function(t){t.directive("waves",r)};window.Vue&&(window.waves=r,Vue.use(i)),r.install=i;e.a=r},jUE0:function(t,e,a){},"pu/j":function(t,e,a){"use strict";a.r(e);var s=a("t3Un");var n=a("Yfch"),r=a("B/d3"),i=a("ZySA"),l=a("7Qib"),o={name:"ComplexTable",directives:{waves:i.a},filters:{statusFilter:function(t){return{"00":"待发送",1:"预订单",2:"已拒绝",3:"待支付",4:"已支付",5:"退款中",6:"已退款",7:"已失效"}[t]},rechargeStatusFilter:function(t){return{1:"充值成功",2:"充值中",3:"充值失败",null:"暂无充值记录","":"暂无充值记录"}[t]},statusClass:function(t){return{0:"danger",1:"success"}[t]}},data:function(){return{tableKey:0,list:null,total:null,listLoading:!0,listQuery:{pageStart:1,pageSize:20,cardNo:"",importance:void 0,engine_no:void 0,title:void 0,type:void 0,isValid:"0"},temp:{},dialogFormVisible:!1,viewDialogFormVisible:!1,dialogStatus:"",textMap:{update:"编辑会员信息",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{name:[{required:!0,message:"姓名字段不能为空",trigger:"change"}],type:[{required:!0,message:"type is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}],phone:[{required:!0,trigger:"blur",validator:function(t,e,a){Object(n.c)(e)?a():a(new Error("请输入正确的手机号"))}}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,function(t){return Object(s.a)({url:"/morder/list",method:"get",params:t})}(this.listQuery).then(function(e){t.list=e.data.result,t.total=e.data.count,setTimeout(function(){t.listLoading=!1},1500)})},resetTemp:function(){this.temp={}},handleView:function(t){var e=this,a={mOrderId:t.id};Object(r.a)(a).then(function(t){"1"===t.data.status?(e.temp=t.data.result,e.viewDialogFormVisible=!0):e.$message({message:t.data.message,type:"warning"})}).catch(function(){e.$message({message:"系统错误，请联系管理员",type:"danger"})})},handleRefund:function(t,e){var a=this,n={mOrderId:t,type:e},r="";r="1"===e?"您确定要接受退款？":"您确定要拒绝退款？",this.$confirm(r,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(function(t){return Object(s.a)({url:"/morder/refund",method:"get",params:t})})(n).then(function(t){var e=t.data;"0"===e.status?a.$message({type:"info",message:e.message}):"1"===e.status&&(a.$message({type:"success",message:"操作成功"}),a.getList(),a.viewDialogFormVisible=!1)})}).catch(function(){a.$message({type:"info",message:"取消变更操作"}),a.viewDialogFormVisible=!1,a.getList()})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return"timestamp"===t?Object(l.c)(e[t]):e[t]})})},handleCurrentChange:function(t){this.listQuery.pageStart=t,this.getList()},handleSizeChange:function(t){this.listQuery.pageSize=t,this.getList()},handleFilter:function(){this.listQuery.pageStart=1,this.getList()}}},c=(a("26/5"),a("KHd+")),u=Object(c.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"手机号",maxlength:"12","prefix-icon":"el-icon-mobile-phone"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.listQuery.mobile,callback:function(e){t.$set(t.listQuery,"mobile",e)},expression:"listQuery.mobile"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查询")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"用户名","min-width":"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单编号",width:"220px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.orderNo))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"手机号",width:"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.mobile))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"微信openID",width:"280px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.wxOpenId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"微信昵称",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.nickName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"支付金额",width:"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"订单状态",width:"80px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("statusFilter")(e.row.status)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"充值状态",width:"120px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("rechargeStatusFilter")(e.row.rechargeStatus)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("table.actions"),align:"center","min-width":"100","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:function(a){t.handleView(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{"current-page":t.listQuery.pageStart,"page-sizes":[10,20,30,50],"page-size":t.listQuery.pageSize,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{staticClass:"view",attrs:{visible:t.viewDialogFormVisible,title:"订单详情"},on:{"update:visible":function(e){t.viewDialogFormVisible=e}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("span",[t._v("订单编号：")]),a("span",[t._v(t._s(t.temp.orderid))])])],1),t._v(" "),a("hr"),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("span",[t._v("申请人信息")])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("用户姓名："+t._s(t.temp.name))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("手机号："+t._s(t.temp.mobile))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("姓名拼音："+t._s(t.temp.enname))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("旅程类型："+t._s(t.temp.issingleordouble))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("出发城市："+t._s(t.temp.orgin))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("到达城市："+t._s(t.temp.aim))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("出发时间："+t._s(t.temp.departuretime))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("返回时间："+t._s(t.temp.returntime))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("申请时间："+t._s(t.temp.createtime))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("东航卡号："+t._s(t.temp.cardnumber))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("携带信息："+t._s(t.temp.carryinformation))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("身份证："+t._s(t.temp.idnumber))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("微信openid："+t._s(t.temp.openid))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("微信昵称："+t._s(t.temp.wechatsaid))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("备注："+t._s(t.temp.description))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("span",[t._v("航班信息："+t._s(t.temp.flight))])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("span",[t._v("舱位信息："+t._s(t.temp.shipping))])])],1),t._v(" "),a("hr"),t._v(" "),t.temp.status>="5"?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("span",[t._v("退款类型：")]),a("span",[t._v(t._s(t.temp.refundremark))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("span",[t._v("退款原因：")]),a("span",[t._v(t._s(t.temp.refundreason))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("span",[t._v("充值里程：")]),a("span",[t._v(t._s(t.temp.miles))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("span",[t._v("订单金额：")]),a("span",[t._v(t._s(t.temp.price))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("span",[t._v("退款金额：")]),a("span",[t._v(t._s(t.temp.price))])])],1)],1):t._e(),t._v(" "),t.temp.status<5?a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("span",[t._v("充值里程：")]),a("span",[t._v(t._s(t.temp.miles))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("span",[t._v("付款金额：")]),a("span",[t._v(t._s(t.temp.price))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("span",[t._v("订单状态：")]),a("span",[t._v(t._s(t._f("statusFilter")(t.temp.status)))])])],1)],1):t._e(),t._v(" "),"5"===t.temp.status?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-refresh1",disabled:"2"===t.temp.rechargestatus},on:{click:function(e){t.handleRefund(t.temp.id,"1")}}},[t._v("接受退款")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-check-outlines"},on:{click:function(e){t.handleRefund(t.temp.id,"2")}}},[t._v("拒绝退款")])],1):t._e()],1)],1)},[],!1,null,null,null);u.options.__file="orders.vue";e.default=u.exports}}]);